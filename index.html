<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="DiscordManager.html">DiscordManager</a><ul class='methods'><li data-type='method'><a href="DiscordManager.html#.embedFromFile">embedFromFile</a></li><li data-type='method'><a href="DiscordManager.html#.embedFromSyntaxTree">embedFromSyntaxTree</a></li><li data-type='method'><a href="DiscordManager.html#.fakeMessage">fakeMessage</a></li><li data-type='method'><a href="DiscordManager.html#.handleChanges">handleChanges</a></li><li data-type='method'><a href="DiscordManager.html#.handleChannelUpdates">handleChannelUpdates</a></li><li data-type='method'><a href="DiscordManager.html#.handleDeletes">handleDeletes</a></li><li data-type='method'><a href="DiscordManager.html#.handleMessages">handleMessages</a></li><li data-type='method'><a href="DiscordManager.html#.locateThread">locateThread</a></li><li data-type='method'><a href="DiscordManager.html#.syntaxTreeParseText">syntaxTreeParseText</a></li></ul></li><li><a href="module-SyntaxTree-ChangeSyntaxTree.html">ChangeSyntaxTree</a></li><li><a href="module-SyntaxTree-ChannelSyntaxTree.html">ChannelSyntaxTree</a></li><li><a href="module-SyntaxTree-DeleteSyntaxTree.html">DeleteSyntaxTree</a></li><li><a href="module-SyntaxTree-MessageSyntaxTree.html">MessageSyntaxTree</a></li><li><a href="module-SyntaxTree-SyntaxTreeBase.html">SyntaxTreeBase</a></li></ul><h3>Modules</h3><ul><li><a href="module-databaseManager.html">databaseManager</a><ul class='methods'><li data-type='method'><a href="module-databaseManager.html#~locateChannelMap">locateChannelMap</a></li><li data-type='method'><a href="module-databaseManager.html#~locateMessageMaps">locateMessageMaps</a></li><li data-type='method'><a href="module-databaseManager.html#~locateThreadMap">locateThreadMap</a></li><li data-type='method'><a href="module-databaseManager.html#~messageMap">messageMap</a></li><li data-type='method'><a href="module-databaseManager.html#~tableLocateMap">tableLocateMap</a></li><li data-type='method'><a href="module-databaseManager.html#~tableMap">tableMap</a></li></ul></li><li><a href="module-databaseWrapper.html">databaseWrapper</a><ul class='methods'><li data-type='method'><a href="module-databaseWrapper.html#~locateMessageMaps">locateMessageMaps</a></li><li data-type='method'><a href="module-databaseWrapper.html#~messageMap">messageMap</a></li><li data-type='method'><a href="module-databaseWrapper.html#~messageMapToMessage">messageMapToMessage</a></li><li data-type='method'><a href="module-databaseWrapper.html#~startup">startup</a></li></ul></li><li><a href="module-discordManager.html">discordManager</a></li><li><a href="module-fileManager.html">fileManager</a><ul class='methods'><li data-type='method'><a href="module-fileManager.html#.fileDownload">fileDownload</a></li><li data-type='method'><a href="module-fileManager.html#~completeDownload">completeDownload</a></li><li data-type='method'><a href="module-fileManager.html#~completeDownloadErrorHandler">completeDownloadErrorHandler</a></li><li data-type='method'><a href="module-fileManager.html#~fileDelete">fileDelete</a></li><li data-type='method'><a href="module-fileManager.html#~fileSize">fileSize</a></li><li data-type='method'><a href="module-fileManager.html#~getValidFileName">getValidFileName</a></li></ul></li><li><a href="module-fileServer.html">fileServer</a><ul class='methods'><li data-type='method'><a href="module-fileServer.html#~getRequestedPath">getRequestedPath</a></li><li data-type='method'><a href="module-fileServer.html#~showFileList">showFileList</a></li></ul></li><li><a href="module-Start.html">Start</a><ul class='methods'><li data-type='method'><a href="module-Start.html#~startUp">startUp</a></li></ul></li><li><a href="module-SyntaxTree.html">SyntaxTree</a></li></ul><h3>Externals</h3><ul><li><a href="external-SlackEventAdapter.html">SlackEventAdapter</a></li><li><a href="external-WebClient.html">WebClient</a></li></ul><h3>Global</h3><ul><li><a href="global.html#unwrapAttachment">unwrapAttachment</a></li><li><a href="global.html#userIdentify">userIdentify</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>Slack to Discord Bridge</h1>
<h1>Purpose</h1>
<p>This repository contains the source code for a Slack App that listens to a Slack Workspace public channels and forwards all of its messages and files to a Discord server as a back-up or archive.</p>
<h2>Features</h2>
<p>The following images show off common usages and subset of what the bot is capable of!</p>
<h3>Basic Message Support</h3>
<p><img src="visuals/Slack.png" alt="Basic message sent through Slack">
<img src="visuals/Discord.png" alt="Basic message carried over to Discord"></p>
<h3>Message Edits and Deletions</h3>
<p><img src="visuals/Slack-Edit.png" alt="Basic Slack message edit">
<img src="visuals/Discord-Edit.png" alt="Basic Slack message edit carried over to Discord"></p>
<h3>Thread Support</h3>
<p><img src="visuals/Slack-Thread.png" alt="Basic Slack thread with a file upload">
<img src="visuals/Discord-Thread.png" alt="Basic Slack thread with a file upload carried over to Discord"></p>
<h1>Basic Set-Up</h1>
<p>To start setting this project up, clone this repository and run <code>npm install</code> to install the dependencies required to run.<br>
Next, follow the steps to <a href="#how-to-create-a-new-slack-app">Create a New Slack App</a> and <a href="#discord-bot-set-up">Create a New Discord Bot</a> below.<br>
Run <code>npm run setup</code> and enter the credentials from the Slack App and Discord Bot as well as some preferences. That way, the script can automatically configure and test its features.<br>
Once set-up is complete, run <code>node .</code> and the bot will be live!</p>
<h1>How to Create a New Slack App</h1>
<p>Go to the <a href="https://api.slack.com/apps">Slack Developers page</a>, log into the workspace you want to install your app, and click on <code>Create New App &gt; From scratch</code>.<br>
Give the app a name and select a workspace to run the app on.<br>
On the <code>Basic Information</code> page, go to <code>Add features and functionality &gt; Event Subscriptions</code><br>
<code>Enable Events</code> and verify the <code>Request URL</code> (the URL or IP address of the device this program runs on) with the <code>node_modules/.bin/slack-verify</code> script from Slack. <a href="https://github.com/slackapi/node-slack-sdk#listening-for-an-event-with-the-events-api">How To</a><br>
In the <code>Subscribe to bot events</code> section, subscribe the bot to the following events: <code>message.channel</code> and <code>file_shared</code><br>
In <code>Basic Information &gt; Add features and functionality &gt; Permissions &gt; Scopes</code>, add <code>channels:read</code> for the <code>User Token Scopes</code> section.<br>
For the <code>Bot Token Scopes</code> section (same page), add the scopes listed below in <a href="#bot-scope-list-and-usages">Bot Scope List and Usages</a><br>
Scroll to the top or go back to <code>Basic Information &gt; Install your app</code> and add your bot to your workspace!<br>
You should now go to <code>Basic Information &gt; Add features and functionality &gt; Permissions</code> and see your OAuth tokens at the very top. You will need this to continue setting up the program later.</p>
<h2>A Note About Verifying Your Slack App URL</h2>
<p>To link up the Request URL to the Slack App, you will need to follow Slack's instructions.<br>
To obtain a public URL or IP address, you will need to open up a port to the internet through <code>port-forwarding</code> or a service like <code>ngrok</code>.<br>
Then run the script in <code>node_modules/.bin/slack-verify</code> with <code>./node_modules/.bin/slack-verify -s &lt;SLACK_SIGNING_SECRET&gt;</code> and type the URL at the <code>/slack/events</code> endpoint in <code>Add features and functionality &gt; Event Subscriptions &gt; Enable Events &gt; Request URL</code><br>
<code>(Warning, if your URL changes you will have to do this step again. Ngrok Free Plan changes the url each time ngrok is restarted so keep it running in another terminal or the background at all times)</code><br></p>
<h1>Discord Bot Set-Up</h1>
<p>Go to the <a href="https://discord.com/developers/applications">Discord Developers Portal</a> and create a new bot<br>
Find the <code>Client ID</code> in the <code>General Information</code> page and replace the braces in this url with it to invite it to the Discord Server you want to use with Admin permissions(Required): https://discord.com/oauth2/authorize?client_id={Client_ID_Goes_Here}&amp;scope=bot&amp;permissions=8 <br>
Next, go to the <code>Bot</code> page and reveal the <code>TOKEN</code> for the bot. <br>
Optional: Customize the bot by giving it a name, profile picture, and description on the <code>General Information</code> page<br></p>
<h1>Set-Up Complete! Now let's run it</h1>
<p>At last, run <code>node .</code> and the Discord Bot and Slack App will both boot up.<br>
Send a message to a Slack channel that the Slack App is in and watch the message appear on Discord as well!</p>
<h1>Documentation</h1>
<p>Documentation for this project's source code can be generated by running <code>npm run jsdoc</code> and viewed by running <code>npm run jsdoc-serve</code>. You can then read it at the URL displayed in the console.</p>
<h1>Bot Scope List and Usages</h1>
<ul>
<li>Obtaining A List Of Channels To Join:<code>channels:read</code></li>
<li>Joining Channels From A List: <code>channels:join</code></li>
<li>Receiving Messages From Slack: <code>channels:history</code></li>
<li>Receiving And Copying Files From Slack: <code>files:read</code></li>
<li>Looking Up The Sender Of Each Message: <code>users:read</code></li>
<li>Listening To Pins And Unpins: <code>pins:read</code></li>
</ul></article>
    </section>









<section>

<header>
    
        <h2>
        run.js
        </h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="run.js.html">run.js</a>, <a href="run.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Marvin Lee</li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>




            
                <div class="description usertext"><p>run.js is the root file that starts everything up and handles everything.
See the<a href="module-Start.html"> run.js documentation</a> for more information. (Named the Start module for documentation purposes)</p></div>
            

            
        
        </div>
    

    

    

    
    
    

     

    

    

    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Sat Apr 08 2023 06:40:22 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>